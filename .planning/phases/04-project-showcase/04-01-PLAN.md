---
phase: 04-project-showcase
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/content.config.ts
  - src/content/projects/sme-ai-chatbot.md
  - src/content/projects/retail-inventory-forecast.md
  - src/content/projects/clinic-line-bot.md
  - src/components/project/ProjectCard.astro
  - src/components/seo/ProjectJsonLd.astro
autonomous: true

must_haves:
  truths:
    - "Projects content collection validates frontmatter with Zod schema alongside articles"
    - "Seed project markdown files render with Problem -> Solution -> Results structure"
    - "ProjectCard displays thumbnail placeholder, title, description, industry badge, and business metric"
    - "ProjectJsonLd emits CreativeWork + BreadcrumbList structured data"
  artifacts:
    - path: "src/content.config.ts"
      provides: "Projects collection with glob loader and Zod schema"
      contains: "projects"
    - path: "src/content/projects/sme-ai-chatbot.md"
      provides: "Seed project 1 with featured: true"
      contains: "featured: true"
    - path: "src/content/projects/retail-inventory-forecast.md"
      provides: "Seed project 2 with featured: true"
      contains: "featured: true"
    - path: "src/content/projects/clinic-line-bot.md"
      provides: "Seed project 3 with featured: true"
      contains: "featured: true"
    - path: "src/components/project/ProjectCard.astro"
      provides: "Portfolio card component for grid display"
      min_lines: 30
    - path: "src/components/seo/ProjectJsonLd.astro"
      provides: "JSON-LD structured data for project pages"
      contains: "CreativeWork"
  key_links:
    - from: "src/content.config.ts"
      to: "src/content/projects/*.md"
      via: "glob loader pattern"
      pattern: "glob.*content/projects"
    - from: "src/components/project/ProjectCard.astro"
      to: "src/content.config.ts"
      via: "CollectionEntry<'projects'> type"
      pattern: "CollectionEntry.*projects"
---

<objective>
Establish the projects content collection, seed 3 case study markdown files, and create reusable ProjectCard and ProjectJsonLd components.

Purpose: Provides the data foundation and display components that the showcase pages and homepage section (Plan 02) will consume.
Output: Working projects collection with validated seed content, a card component for grid display, and JSON-LD for SEO.
</objective>

<execution_context>
@/Users/ohmmingrath/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ohmmingrath/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-project-showcase/04-RESEARCH.md

# Existing patterns to mirror exactly:
@src/content.config.ts
@src/components/article/ArticleCard.astro
@src/components/seo/ArticleJsonLd.astro
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add projects collection to content.config.ts and create 3 seed markdown files</name>
  <files>
    src/content.config.ts
    src/content/projects/sme-ai-chatbot.md
    src/content/projects/retail-inventory-forecast.md
    src/content/projects/clinic-line-bot.md
  </files>
  <action>
**content.config.ts:** Add a `projects` collection alongside the existing `articles` collection. Use the same `glob()` loader pattern:

```typescript
const projects = defineCollection({
  loader: glob({ pattern: "**/*.md", base: "./src/content/projects" }),
  schema: z.object({
    title: z.string(),
    description: z.string(),
    thumbnail: z.string().optional(),
    thumbnailAlt: z.string().default(""),
    client: z.string(),
    industry: z.string(),
    metric: z.string(),
    metricLabel: z.string(),
    tags: z.array(z.string()).default([]),
    pubDate: z.coerce.date(),
    featured: z.boolean().default(false),
    draft: z.boolean().default(false),
    seoTitle: z.string().optional(),
    seoKeywords: z.array(z.string()).default([]),
  }),
});
```

Update the export: `export const collections = { articles, projects };`

**Seed files:** Create `src/content/projects/` directory and 3 markdown files. Each must have:
- Valid frontmatter matching the schema above
- `featured: true` on all 3 (for homepage section testing)
- Thai content following Problem -> Solution -> Results structure with `## ปัญหา`, `## วิธีแก้ปัญหา`, `## ผลลัพธ์` headings
- At least one concrete business metric in the `metric` + `metricLabel` fields

Seed project 1 — `sme-ai-chatbot.md`:
- title: "แชทบอท AI ตอบลูกค้าอัตโนมัติ สำหรับร้านค้าออนไลน์"
- client: "ร้านค้าออนไลน์ขายเครื่องสำอาง"
- industry: "E-commerce"
- metric: "40%", metricLabel: "ลดเวลาตอบลูกค้า"
- tags: ["chatbot", "line", "e-commerce"]
- pubDate: 2026-01-15

Seed project 2 — `retail-inventory-forecast.md`:
- title: "ระบบพยากรณ์สต็อกสินค้าด้วย AI สำหรับร้านค้าปลีก"
- client: "ร้านค้าปลีกสินค้าอุปโภคบริโภค"
- industry: "Retail"
- metric: "25%", metricLabel: "ลดสินค้าค้างสต็อก"
- tags: ["forecasting", "inventory", "retail"]
- pubDate: 2026-01-20

Seed project 3 — `clinic-line-bot.md`:
- title: "LINE Bot นัดหมายอัตโนมัติ สำหรับคลินิก"
- client: "คลินิกเวชกรรม"
- industry: "Healthcare"
- metric: "60%", metricLabel: "ลดงาน admin นัดหมาย"
- tags: ["line-bot", "healthcare", "automation"]
- pubDate: 2026-02-01

Each markdown body should be 3-5 short paragraphs total across the 3 headings -- concise but realistic case study content in Thai.

No `thumbnail` field in seed files (will use placeholder fallback in ProjectCard).
  </action>
  <verify>
Run `npx astro sync` to verify the projects collection is recognized without errors. Then run `npx astro check` or `npx astro build` to confirm schema validation passes for all 3 seed files.
  </verify>
  <done>
Projects collection defined in content.config.ts with Zod schema, 3 seed markdown files exist with valid frontmatter and Thai Problem/Solution/Results body content, `astro sync` succeeds.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create ProjectCard and ProjectJsonLd components</name>
  <files>
    src/components/project/ProjectCard.astro
    src/components/seo/ProjectJsonLd.astro
  </files>
  <action>
**ProjectCard.astro** — Mirror ArticleCard.astro structure. Create `src/components/project/` directory.

Props: `{ project: CollectionEntry<'projects'> }`

Card structure (wrapped in an `<a>` linking to `/showcase/${slug}/`):
1. **Thumbnail area** — `aspect-video` div. If `data.thumbnail` exists, render `<img>`. Otherwise show a colored placeholder with a generic project icon (inline SVG, Heroicons `squares-2x2` outline) centered on a `bg-primary-100 dark:bg-primary-900/30` background.
2. **Content area** (`p-5`):
   - Industry badge: `<span>` with `bg-accent-100 dark:bg-accent-600/20 text-accent-600 dark:text-accent-300` (use accent colors to differentiate from article category badges which use primary colors).
   - Title: `<h3>` with `line-clamp-2`, hover color transition matching ArticleCard.
   - Description: `<p>` with `line-clamp-3`.
   - Business metric row: `metric` in `text-xl font-bold text-primary-600 dark:text-primary-400` and `metricLabel` next to it in `text-surface-500 dark:text-surface-400 font-normal text-sm`.

Extract slug via `project.id.split('/').pop()!` (established pattern).

Use the same card container classes as ArticleCard: `group block rounded-xl bg-surface-100 dark:bg-surface-800/50 border border-surface-200 dark:border-surface-700 hover:border-primary-300 dark:hover:border-primary-600 transition-colors overflow-hidden`.

**ProjectJsonLd.astro** — Mirror ArticleJsonLd.astro structure.

Props: `{ title: string; description: string; pubDate: Date; url: string; tags: string[] }`

Schema `@graph` array with:
1. `CreativeWork` type (not `Article`) with headline, description, datePublished (ISO substring 0-10), author (Person: "Mingrath Mekavichai"), publisher (Organization: "SMEAI"), mainEntityOfPage, keywords, inLanguage: "th".
2. `BreadcrumbList` with 3 items: หน้าแรก (`/`), ผลงาน (`/showcase/`), and project title (no URL for last item).

Use `set:html={JSON.stringify(schema)}` pattern (established in ArticleJsonLd).
  </action>
  <verify>
Verify files exist with correct TypeScript types: `ls src/components/project/ProjectCard.astro src/components/seo/ProjectJsonLd.astro`. Run `npx astro build` to confirm no type errors.
  </verify>
  <done>
ProjectCard.astro renders project data with thumbnail placeholder, industry badge, title, description, and metric. ProjectJsonLd.astro emits valid CreativeWork + BreadcrumbList JSON-LD. Both pass build without errors.
  </done>
</task>

</tasks>

<verification>
1. `npx astro sync` completes without errors (projects collection recognized)
2. `npx astro build` completes without errors (all seed content validates, components compile)
3. 3 markdown files exist in `src/content/projects/` with valid frontmatter
4. `src/content.config.ts` exports both `articles` and `projects` collections
</verification>

<success_criteria>
- Projects content collection is defined alongside articles with a Zod schema including title, description, thumbnail, client, industry, metric, metricLabel, tags, pubDate, featured, draft, seoTitle, seoKeywords
- 3 seed project files exist with `featured: true`, Thai Problem/Solution/Results body, and concrete business metrics
- ProjectCard component accepts `CollectionEntry<'projects'>` and renders a card linking to `/showcase/{slug}/`
- ProjectJsonLd component emits CreativeWork structured data matching the ArticleJsonLd pattern
- `npx astro build` succeeds with zero errors
</success_criteria>

<output>
After completion, create `.planning/phases/04-project-showcase/04-01-SUMMARY.md`
</output>
