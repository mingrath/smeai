# Phase 2, Plan 01: Contact Constants & Contact Page

**Phase Goal**: A visitor landing on the homepage understands what SMEAI offers within 5 seconds, learns about Ohm's background, and can reach a dedicated contact page
**Plan Scope**: Single source of truth for contact data, refactored ContactLinks, and a complete `/contact` page with LINE, email, and phone cards
**Requirements**: LEAD-01 (Contact information displayed on contact page)
**Depends on**: Phase 1 (complete)

## Context

Phase 1 established the site shell with `BaseLayout.astro`, `Header.astro`, `Footer.astro`, `MobileNav.astro`, and `ContactLinks.astro`. Currently, `ContactLinks.astro` hardcodes `LINE_URL` and `EMAIL` as component-level constants. This plan extracts all contact info into `src/lib/contact.ts` as a single source of truth, updates `ContactLinks.astro` to import from it (adding phone support to the full variant), and creates the `/contact` page.

The contact page must be built BEFORE the homepage hero (Plan 02) so that the hero's primary CTA ("ปรึกษาฟรี" linking to `/contact`) has a real destination.

## Tasks

### Task 1: Create contact constants and update ContactLinks

**What:** Create `src/lib/contact.ts` as the single source of truth for all contact info. Then update `src/components/common/ContactLinks.astro` to import from it instead of using hardcoded values. Add phone number to the `full` variant.

**Why:** Contact info (LINE, email, phone, portfolio URL) appears in ContactLinks (header, footer, mobile nav), the contact page, the about section, and the CTA section. A constants file prevents inconsistency across all these uses. Research anti-pattern: "Don't hardcode contact info in multiple places."

**Files:**
- `src/lib/contact.ts` -- CREATE: contact constants object
- `src/components/common/ContactLinks.astro` -- MODIFY: import from contact.ts, add phone to full variant

**Details:**

`src/lib/contact.ts` -- export a single `CONTACT` const:

```typescript
export const CONTACT = {
  line: {
    id: 'mingrath',
    url: 'https://line.me/ti/p/~mingrath',
    display: '@mingrath',
  },
  email: {
    address: 'mingrath@gmail.com',
    url: 'mailto:mingrath@gmail.com',
  },
  phone: {
    number: '0658256965',
    url: 'tel:+66658256965',
    display: '065-825-6965',
  },
  portfolio: {
    url: 'https://mingrath.github.io',
    label: 'ดูผลงาน',
  },
  github: {
    username: 'mingrath',
    url: 'https://github.com/mingrath',
  },
} as const;
```

`ContactLinks.astro` changes:
- Remove the hardcoded `LINE_URL` and `EMAIL` constants
- Add `import { CONTACT } from '../../lib/contact';` in the frontmatter
- Replace `LINE_URL` with `CONTACT.line.url` and `EMAIL` with `CONTACT.email.url`
- In the `full` variant, replace hardcoded text `LINE: @mingrath` with `LINE: ${CONTACT.line.display}` and `mingrath@gmail.com` with `CONTACT.email.address`
- Add a phone link to the `full` variant after the email link, using the same inline SVG pattern (Heroicons `phone` outline icon):
  ```html
  <a href={CONTACT.phone.url} class="inline-flex items-center gap-1.5 text-surface-500 hover:text-primary-600 dark:text-surface-400 dark:hover:text-primary-400 transition-colors">
    <svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z" />
    </svg>
    {CONTACT.phone.display}
  </a>
  ```
- The `compact` variant stays as LINE + email icons only (no phone icon in compact to keep header clean)

**Verification:**
- [ ] `src/lib/contact.ts` exists with all 5 contact entries (line, email, phone, portfolio, github)
- [ ] `ContactLinks.astro` has zero hardcoded URLs or email strings -- all from `CONTACT` import
- [ ] Footer shows LINE, email, AND phone (full variant now has 3 items)
- [ ] Header compact icons still show only LINE + email (no visual change to compact)
- [ ] `npm run build` passes

### Task 2: Create the contact page

**What:** Create `src/pages/contact.astro` with a card-based layout showing LINE (primary), email, and phone contact methods.

**Why:** Addresses LEAD-01 directly. Also provides a real destination for the hero CTA in Plan 02.

**Files:**
- `src/pages/contact.astro` -- CREATE

**Details:**

The contact page uses `BaseLayout` with `title="ติดต่อเรา"` and `description="ติดต่อปรึกษา AI สำหรับธุรกิจ SME - LINE, อีเมล, โทรศัพท์"`.

Import `CONTACT` from `../../lib/contact` for all URLs and display values.

Page structure:
```
<BaseLayout title="ติดต่อเรา" description="...">
  <section class="py-20 md:py-28">
    <div class="max-w-2xl mx-auto px-4">
      <!-- Heading -->
      <h1> ติดต่อผม </h1>
      <p> ยินดีให้คำปรึกษาเรื่อง AI สำหรับธุรกิจของคุณ ไม่มีค่าใช้จ่ายสำหรับการพูดคุยครั้งแรก </p>

      <!-- Contact cards -->
      <div class="space-y-4">
        [LINE card]
        [Email card]
        [Phone card]
      </div>
    </div>
  </section>
</BaseLayout>
```

Use `max-w-2xl` (NOT `prose-container` which is 65ch -- too narrow, and NOT `max-w-5xl` which is too wide for a centered card list).

Heading: `<h1 class="text-3xl md:text-4xl font-bold text-surface-900 dark:text-surface-100 mb-4 text-center">ติดต่อผม</h1>` -- use "ผม" (casual I/me) not "เรา" (corporate we), per research tone guidance.

Subtitle: `<p class="text-lg text-surface-600 dark:text-surface-400 text-center mb-12 leading-relaxed">ยินดีให้คำปรึกษาเรื่อง AI สำหรับธุรกิจของคุณ ไม่มีค่าใช้จ่ายสำหรับการพูดคุยครั้งแรก</p>`

Each contact card is an `<a>` tag styled as a card:
```
class="flex items-center gap-4 p-6 rounded-xl bg-surface-100 dark:bg-surface-800 hover:bg-surface-200 dark:hover:bg-surface-700 transition-colors group"
```

Each card has:
1. A colored icon container: `<div class="flex-shrink-0 w-12 h-12 rounded-lg [bg-color] flex items-center justify-center">`
2. A text block with label + value

Card details:

**LINE card (first -- primary contact for Thailand):**
- `href={CONTACT.line.url}` with `target="_blank" rel="noopener noreferrer"`
- Icon container: `bg-[#06C755]` (LINE brand green)
- Icon: Heroicons `chat-bubble-left-right` outline (same SVG path as in ContactLinks), `w-6 h-6 text-white`
- Label: `<div class="font-semibold text-surface-900 dark:text-surface-100">LINE</div>`
- Value: `<div class="text-surface-500 dark:text-surface-400">{CONTACT.line.display}</div>`
- Add a small right-arrow hint: `<svg class="w-5 h-5 ml-auto text-surface-400 dark:text-surface-500 group-hover:text-surface-600 dark:group-hover:text-surface-300 transition-colors">` using Heroicons `arrow-top-right-on-square` (same external link icon pattern) -- to indicate it opens externally

**Email card (second):**
- `href={CONTACT.email.url}` (mailto: link, no target="_blank" needed)
- Icon container: `bg-primary-500`
- Icon: Heroicons `envelope` outline, `w-6 h-6 text-white`
- Label: `Email`
- Value: `{CONTACT.email.address}`

**Phone card (third):**
- `href={CONTACT.phone.url}` (tel: link)
- Icon container: `bg-accent-500`
- Icon: Heroicons `phone` outline, `w-6 h-6 text-white`
- Label: `โทรศัพท์`
- Value: `{CONTACT.phone.display}`

After the cards, add a small note at the bottom:
```html
<p class="text-center text-sm text-surface-400 dark:text-surface-500 mt-8">
  ตอบกลับภายใน 24 ชั่วโมง ทุกช่องทาง
</p>
```

Full SVG paths to use (Heroicons outline, stroke-based):

Chat bubble (LINE): same path already used in ContactLinks.astro (the `M8.625 9.75a.375...` path)

Envelope (Email): same path already used in ContactLinks.astro (the `M21.75 6.75v10.5...` path)

Phone: `M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z`

Arrow external link: `M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25`

**Verification:**
- [ ] Visiting `/contact` renders the page with heading, subtitle, and 3 contact cards
- [ ] LINE card links to `https://line.me/ti/p/~mingrath` and opens in new tab
- [ ] Email card links to `mailto:mingrath@gmail.com`
- [ ] Phone card links to `tel:+66658256965` with display text `065-825-6965`
- [ ] All cards render correctly in dark mode (toggle and verify text contrast)
- [ ] Page is mobile-responsive (cards stack vertically, no horizontal overflow)
- [ ] `npm run build` passes with no errors

## Plan Verification

After all tasks complete:
- [ ] `src/lib/contact.ts` exists and is imported by both `ContactLinks.astro` and `contact.astro`
- [ ] Zero hardcoded contact strings remain in any `.astro` file (all flow from `CONTACT` constant)
- [ ] `/contact` page renders LINE, email, phone with correct links and display values
- [ ] Footer `ContactLinks full` variant now shows phone in addition to LINE and email
- [ ] Header `ContactLinks compact` variant is unchanged (LINE + email icons only)
- [ ] Both light and dark mode render correctly on the contact page
- [ ] `npm run build` passes with no errors
